{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Desktop/camagru/camagru/src/App.js\";\nimport React from 'react';\nimport Header from './components/header.js';\nimport Footer from './components/footer.js';\nimport Stream from './components/stream.js';\nimport Account from './components/account.js';\nimport Post from './components/post.js';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport './App.css';\nimport { APIUrl, baseURL } from './global.js';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.login = (username, pass) => {\n      fetch(\"\".concat(APIUrl, \"/users/login\"), {\n        method: 'post',\n        headers: {\n          'Origin': baseURL,\n          'Access-Control-Request-Method': 'POST',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: username,\n          password: pass\n        })\n      }).then(res => res.json()).then(data => {\n        if (typeof data.data.id !== 'undefined') {\n          this.setState({\n            user: data.data\n          }, () => {\n            localStorage.setItem('user', JSON.stringify(data.data));\n          });\n        } else {\n          alert(data.data);\n        }\n      });\n    };\n\n    this.logout = (username, pass) => {\n      this.setState({\n        user: null\n      });\n      if (localStorage.getItem('user') !== null) localStorage.removeItem('user');\n    };\n\n    this.showme = () => {\n      console.log(this.state);\n    };\n\n    this.state = {\n      user: null\n    };\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n    this.showme = this.showme.bind(this);\n  }\n\n  componentDidMount() {\n    if (typeof localStorage.getItem('user') !== \"undefined\") {\n      this.setState({\n        user: localStorage.getItem('user').JSON.parse()\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Header, {\n      showme: this.showme,\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/\",\n      render: () => React.createElement(Account, {\n        user: this.state.user,\n        login: this.login,\n        logout: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }),\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/create\" //change back to 'create'\n      ,\n      render: () => React.createElement(Stream, {\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/home\",\n      render: () => React.createElement(Post, {\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      user: this.state.user,\n      logout: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/chris/Desktop/camagru/camagru/src/App.js"],"names":["React","Header","Footer","Stream","Account","Post","BrowserRouter","Route","APIUrl","baseURL","App","Component","constructor","login","username","pass","fetch","method","headers","body","JSON","stringify","email","password","then","res","json","data","id","setState","user","localStorage","setItem","alert","logout","getItem","removeItem","showme","console","log","state","bind","componentDidMount","parse","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Header from './components/header.js';\nimport Footer from './components/footer.js';\nimport Stream from './components/stream.js';\nimport Account from './components/account.js';\nimport Post from './components/post.js';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport './App.css';\nimport { APIUrl, baseURL} from './global.js';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      user: null\n    };\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n    this.showme = this.showme.bind(this);\n  }\n\n  componentDidMount() {\n    if (typeof localStorage.getItem('user') !== \"undefined\") {\n      this.setState({\n       user: localStorage.getItem('user').JSON.parse()\n      });\n    } \n  }\n\n  login = (username, pass) => {\n    fetch(`${APIUrl}/users/login`, {\n      method: 'post',\n      headers: {\n\t\t\t\t'Origin': baseURL,\n\t\t\t\t'Access-Control-Request-Method': 'POST',\n\t\t\t\t'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: username,\n        password: pass\n      })\n    }).then(res => res.json())\n    .then(data => {\n      if (typeof(data.data.id) !== 'undefined') {\n        this.setState({\n          user: data.data\n        }, () => {\n          localStorage.setItem( 'user', JSON.stringify(data.data));\n        })\n      } else {\n        alert(data.data);\n      }\n    });\n  };\n\n  logout = (username, pass) => {\n    this.setState({\n      user: null\n    });\n    if (localStorage.getItem('user') !== null)\n      localStorage.removeItem('user');\n  };\n\n  showme = () => {\n    console.log(this.state);\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <Header showme={this.showme} user={this.state.user} />\n          <Route\n            path=\"/\"\n            render={() => <Account user={this.state.user} login={this.login} logout={this.logout} />}\n            exact\n          />\n          <Route\n            path=\"/create\"\n            //change back to 'create'\n            render={() => <Stream user={this.state.user} />}\n          />\n          <Route\n            path=\"/home\"\n            render={() => <Post user={this.state.user}/>}\n          />\n          <Footer user={this.state.user} logout={this.logout} />\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}