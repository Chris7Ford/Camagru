{"ast":null,"code":"var _jsxFileName = \"/nfs/2018/c/chford/Documents/Camagru/camagru/src/components/stream.js\";\nimport React from \"react\";\nimport Fish from \"./pictures/fish.png\";\nimport Cracks from \"./pictures/cracks_burned.png\";\nimport Hello from \"./pictures/Hello.png\";\nimport Sidebar from \"./sidebar.js\";\nimport \"./studio.css\";\n\nclass Stream extends React.Component {\n  constructor() {\n    super();\n\n    this.applyProp = e => {\n      if (this.state.prop !== e.target.id) {\n        this.setState({\n          prop: e.target.id\n        });\n        if (document.querySelectorAll(\".selected\").length > 0) document.querySelector(\".selected\").classList.remove(\"selected\");\n        document.querySelector(\"#\".concat(e.target.id)).classList.add(\"selected\");\n      } else {\n        this.setState({\n          prop: null\n        });\n        document.querySelector(\"#\".concat(e.target.id)).classList.remove(\"selected\");\n      }\n    };\n\n    this.acceptUpload = () => {\n      var preview = document.querySelector('img');\n      var file = document.querySelector('input[type=file]').files[0];\n      var reader = new FileReader();\n      reader.addEventListener(\"load\", function () {\n        preview.src = reader.result;\n      }, false);\n\n      if (file) {\n        setTimeout(() => console.log(\"The preview is\" + preview.src, 100));\n      }\n    };\n\n    this.allowPublish = () => {\n      this.setState({\n        photoTaken: true\n      });\n    };\n\n    this.publish = () => {\n      this.setState({\n        photoURL: document.querySelector(\"canvas\").toDataURL(\"image/png\")\n      }, () => {\n        fetch('http://localhost:8000/posts/add', {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: {\n            photo: this.state.photoURL,\n            //id: this.props.user.id,\n            id: 11\n          }\n        }).then(res => this.setState({\n          response: res.json()\n        })) //Is this 'data.response' or 'data.message'?\n        .then(alert(this.state.response));\n      });\n    };\n\n    this.renderPublish = () => {\n      if (this.state.photoTaken) {\n        return React.createElement(\"button\", {\n          onClick: this.publish,\n          type: \"button\",\n          id: \"snap\",\n          className: \"button-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, \"Save and Publish\");\n      }\n    };\n\n    this.previewOverlay = () => {\n      if (this.state.prop !== null) {\n        let source = document.querySelector(\"#\".concat(this.state.prop)).getAttribute(\"src\");\n        return React.createElement(\"img\", {\n          alt: \"preview\",\n          src: source,\n          className: \"prop overlay-img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.state = {\n      prop: null,\n      photoTaken: false,\n      photoURL: null,\n      response: null\n    };\n  }\n\n  componentDidMount() {\n    const constraints = {\n      video: true\n    };\n    const video = document.querySelector('video');\n    const canvas = document.querySelector('canvas');\n    const context = canvas.getContext('2d');\n    let mediaStream = null;\n    navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n      video.srcObject = stream;\n      video.play();\n      mediaStream = stream;\n    }).catch(err => console.error(err));\n    document.querySelector(\"#snap\").addEventListener('click', () => snapshot(this.state.prop), false);\n\n    function snapshot(id) {\n      if (mediaStream) {\n        context.drawImage(video, 0, 0, video.width, video.height);\n        if (id) context.drawImage(document.querySelector(\"#\".concat(id)), 0, 0, video.width, video.height);\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Sidebar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container-studio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Welcome to the studio!\"), React.createElement(\"div\", {\n      className: \"container-props\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"Fish\",\n      onClick: this.applyProp,\n      className: \"prop\",\n      src: Fish,\n      alt: \"Fish\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      onClick: this.applyProp,\n      id: \"Cracks\",\n      className: \"prop\",\n      src: Cracks,\n      alt: \"Cracks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      onClick: this.applyProp,\n      id: \"Hello\",\n      className: \"prop\",\n      src: Hello,\n      alt: \"Hello\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"prop camera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"video\", {\n      className: \"main\",\n      width: \"320\",\n      height: \"240\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"video\", {\n      width: \"100%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), this.previewOverlay()), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.allowPublish,\n      id: \"snap\",\n      className: \"button-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Take Photo\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"or upload here:\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.acceptUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"canvas\", {\n      width: \"320\",\n      height: \"240\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), this.renderPublish()));\n  }\n\n}\n\nexport default Stream;","map":{"version":3,"sources":["/nfs/2018/c/chford/Documents/Camagru/camagru/src/components/stream.js"],"names":["React","Fish","Cracks","Hello","Sidebar","Stream","Component","constructor","applyProp","e","state","prop","target","id","setState","document","querySelectorAll","length","querySelector","classList","remove","add","acceptUpload","preview","file","files","reader","FileReader","addEventListener","src","result","setTimeout","console","log","allowPublish","photoTaken","publish","photoURL","toDataURL","fetch","method","headers","body","photo","then","res","response","json","alert","renderPublish","previewOverlay","source","getAttribute","componentDidMount","constraints","video","canvas","context","getContext","mediaStream","navigator","mediaDevices","getUserMedia","stream","srcObject","play","catch","err","error","snapshot","drawImage","width","height","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Fish from \"./pictures/fish.png\";\nimport Cracks from \"./pictures/cracks_burned.png\";\nimport Hello from \"./pictures/Hello.png\";\nimport Sidebar from \"./sidebar.js\";\nimport \"./studio.css\";\n\nclass Stream extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tprop: null,\n\t\t\tphotoTaken : false,\n\t\t\tphotoURL: null,\n\t\t\tresponse: null\n\t\t};\n\t}\n\tcomponentDidMount(){\n\t\tconst constraints = { video: true };\n\n\t\tconst video = document.querySelector('video');\n\t\tconst canvas = document.querySelector('canvas');\n\t\tconst context = canvas.getContext('2d');\n\t\tlet mediaStream = null;\n\n\t\tnavigator.mediaDevices.getUserMedia(constraints)\n\t\t\t.then(stream => {\n\t\t\t\tvideo.srcObject = stream;\n\t\t\t\tvideo.play();\n\t\t\t\tmediaStream = stream;\n\t\t\t})\n\t\t\t.catch(err => console.error(err));\n\n\t\tdocument.querySelector(\"#snap\").addEventListener('click', () => snapshot(this.state.prop), false);\n\n\t\tfunction snapshot(id) {\n\t\t\tif (mediaStream) {\n\t\t\t\tcontext.drawImage(video, 0, 0, video.width, video.height);\n\t\t\t\tif (id)\n\t\t\t\t\tcontext.drawImage(document.querySelector(`#${id}`), 0, 0, video.width, video.height);\n\t\t\t}\n\t\t}\n\t}\n\n\tapplyProp = (e) => {\n\t\tif (this.state.prop !== e.target.id)\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tprop : e.target.id\n\t\t\t});\n\t\t\tif (document.querySelectorAll(\".selected\").length > 0)\n\t\t\t\tdocument.querySelector(\".selected\").classList.remove(\"selected\");\n\t\t\tdocument.querySelector(`#${e.target.id}`).classList.add(\"selected\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({\n\t\t\t\tprop : null\n\t\t\t});\n\t\t\tdocument.querySelector(`#${e.target.id}`).classList.remove(\"selected\");\n\t\t}\n\t}\n\n\tacceptUpload = () => {\n\t\tvar preview = document.querySelector('img');\n\t\tvar file = document.querySelector('input[type=file]').files[0];\n\t\tvar reader = new FileReader();\n\n\t\treader.addEventListener(\"load\", function () {\n\t\t\tpreview.src = reader.result;\n\t\t}, false);\n\n\t\tif (file) {\n\t\t\tsetTimeout(() => console.log(\"The preview is\" + preview.src, 100));\n\t\t}\n\t}\n\n\tallowPublish = () => {\n\t\tthis.setState({\n\t\t\tphotoTaken : true\n\t\t});\n\t}\n\n\tpublish = () => {\n\t\tthis.setState({\n\t\t\tphotoURL: document.querySelector(\"canvas\").toDataURL(\"image/png\")\n\t\t}, () => {\n\t\t\tfetch('http://localhost:8000/posts/add', {\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: {\n\t\t\t\t\tphoto: this.state.photoURL,\n\t\t\t\t\t//id: this.props.user.id,\n\t\t\t\t\tid: 11\n\t\t\t\t}\n\t\t\t}).then(res => this.setState({response: res.json()}))\n//Is this 'data.response' or 'data.message'?\n\t\t\t.then(alert(this.state.response));\n\t\t});\n\t}\n\n\trenderPublish = () => {\n\t\tif (this.state.photoTaken)\n\t\t{\n\t\t\treturn (\n\t\t\t\t<button onClick={this.publish} type='button' id=\"snap\" className=\"button-primary\">Save and Publish</button>\n\t\t\t);\n\t\t}\n\t}\n\n\tpreviewOverlay = () => {\n\t\tif (this.state.prop !== null)\n\t\t{\n\t\t\tlet source = document.querySelector(`#${this.state.prop}`).getAttribute(\"src\");\n\t\t\treturn (<img alt=\"preview\" src={source} className=\"prop overlay-img\" />);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Sidebar />\n\t\t\t\t<div className=\"container-studio\">\n\t\t\t\t\t<h1 className=\"text-secondary\">\n\t\t\t\t\t\tWelcome to the studio!\n\t\t\t\t\t</h1>\n\t\t\t\t\t<div className=\"container-props\">\n\t\t\t\t\t\t<img id=\"Fish\" onClick={this.applyProp} className=\"prop\" src={Fish} alt=\"Fish\" />\n\t\t\t\t\t\t<img onClick={this.applyProp} id=\"Cracks\" className=\"prop\" src={Cracks} alt=\"Cracks\" />\n\t\t\t\t\t\t<img onClick={this.applyProp} id=\"Hello\" className=\"prop\" src={Hello} alt=\"Hello\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"prop camera\">\n\t\t\t\t\t\t<video className=\"main\" width=\"320\" height=\"240\"></video>\n\t\t\t\t\t\t<video width=\"100%\"></video>\n\t\t\t\t\t\t{this.previewOverlay()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<button type='button' onClick={this.allowPublish} id=\"snap\" className=\"button-primary\">Take Photo</button>\n\t\t\t\t\t<br />\n\t\t\t\t\t<p>or upload here:</p>\n\t\t\t\t\t<input type=\"file\" onChange={this.acceptUpload} />\n\t\t\t\t\t<br />\n\t\t\t\t\t<canvas width=\"320\" height=\"240\"></canvas>\n\t\t\t\t\t<br />\n\t\t\t\t\t{this.renderPublish()}\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\nexport default Stream;\n"]},"metadata":{},"sourceType":"module"}