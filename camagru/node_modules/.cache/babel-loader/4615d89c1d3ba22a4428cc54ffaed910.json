{"ast":null,"code":"var _jsxFileName = \"/nfs/2018/c/chford/Documents/Camagru/camagru/src/components/stream.js\";\nimport React from \"react\";\nimport Fish from \"./pictures/fish.png\";\nimport Cracks from \"./pictures/cracks_burned.png\";\nimport Hello from \"./pictures/Hello.png\";\nimport Sidebar from \"./sidebar.js\";\nimport \"./studio.css\";\n\nclass Stream extends React.Component {\n  constructor() {\n    super();\n\n    this.applyProp = e => {\n      if (this.state.prop !== e.target.id) {\n        this.setState({\n          prop: e.target.id\n        });\n        if (document.querySelectorAll(\".selected\").length > 0) document.querySelector(\".selected\").classList.remove(\"selected\");\n        document.querySelector(\"#\".concat(e.target.id)).classList.add(\"selected\");\n      } else {\n        this.setState({\n          prop: null\n        });\n        document.querySelector(\"#\".concat(e.target.id)).classList.remove(\"selected\");\n      }\n    };\n\n    this.postPhoto = () => {\n      fetch(\"http://localhost:8000/posts/add\", {\n        method: \"post\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: {\n          photo: this.state.photoURL,\n          //id: this.props.user.id,\n          id: 11\n        }\n      }).then(res => this.setState({\n        response: res.json()\n      })) //Is this 'data.response' or 'data.message'?\n      .then(alert(this.state.response));\n    };\n\n    this.acceptUpload = () => {\n      var preview = document.querySelector(\"img\");\n      var file = document.querySelector(\"input[type=file]\").files[0];\n      var reader = new FileReader();\n      reader.addEventListener(\"load\", () => {\n        this.setState({\n          photoURL: reader.result\n        }, () => this.postPhoto());\n      }, false);\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    };\n\n    this.allowPublish = () => {\n      this.setState({\n        photoTaken: true\n      });\n    };\n\n    this.publish = () => {\n      this.setState({\n        photoURL: document.querySelector(\"canvas\").toDataURL(\"image/png\")\n      }, () => this.postPhoto());\n    };\n\n    this.renderPublish = () => {\n      if (this.state.photoTaken) {\n        return React.createElement(\"button\", {\n          onClick: this.publish,\n          type: \"button\",\n          id: \"snap\",\n          className: \"button-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, \"Save and Publish\");\n      }\n    };\n\n    this.previewOverlay = () => {\n      if (this.state.prop !== null) {\n        let source = document.querySelector(\"#\".concat(this.state.prop)).getAttribute(\"src\");\n        return React.createElement(\"img\", {\n          alt: \"preview\",\n          src: source,\n          className: \"prop overlay-img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.state = {\n      prop: null,\n      photoTaken: false,\n      photoURL: null,\n      response: null\n    };\n  }\n\n  componentDidMount() {\n    const constraints = {\n      video: true\n    };\n    const video = document.querySelector(\"video\");\n    const canvas = document.querySelector(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    let mediaStream = null;\n    navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n      video.srcObject = stream;\n      video.play();\n      mediaStream = stream;\n    }).catch(err => console.error(err));\n    document.querySelector(\"#snap\").addEventListener(\"click\", () => snapshot(this.state.prop), false);\n\n    function snapshot(id) {\n      if (mediaStream) {\n        context.drawImage(video, 0, 0, video.width, video.height);\n        if (id) context.drawImage(document.querySelector(\"#\".concat(id)), 0, 0, video.width, video.height);\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Sidebar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container-studio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Welcome to the studio!\"), React.createElement(\"div\", {\n      className: \"container-props\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"Fish\",\n      onClick: this.applyProp,\n      className: \"prop\",\n      src: Fish,\n      alt: \"Fish\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      onClick: this.applyProp,\n      id: \"Cracks\",\n      className: \"prop\",\n      src: Cracks,\n      alt: \"Cracks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      onClick: this.applyProp,\n      id: \"Hello\",\n      className: \"prop\",\n      src: Hello,\n      alt: \"Hello\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"prop camera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"video\", {\n      className: \"main\",\n      width: \"320\",\n      height: \"240\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"video\", {\n      width: \"100%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), this.previewOverlay()), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.allowPublish,\n      id: \"snap\",\n      className: \"button-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Take Photo\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"or upload here:\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.acceptUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(\"canvas\", {\n      width: \"320\",\n      height: \"240\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), this.renderPublish()));\n  }\n\n}\n\nexport default Stream;","map":{"version":3,"sources":["/nfs/2018/c/chford/Documents/Camagru/camagru/src/components/stream.js"],"names":["React","Fish","Cracks","Hello","Sidebar","Stream","Component","constructor","applyProp","e","state","prop","target","id","setState","document","querySelectorAll","length","querySelector","classList","remove","add","postPhoto","fetch","method","headers","Accept","body","photo","photoURL","then","res","response","json","alert","acceptUpload","preview","file","files","reader","FileReader","addEventListener","result","readAsDataURL","allowPublish","photoTaken","publish","toDataURL","renderPublish","previewOverlay","source","getAttribute","componentDidMount","constraints","video","canvas","context","getContext","mediaStream","navigator","mediaDevices","getUserMedia","stream","srcObject","play","catch","err","console","error","snapshot","drawImage","width","height","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Fish from \"./pictures/fish.png\";\nimport Cracks from \"./pictures/cracks_burned.png\";\nimport Hello from \"./pictures/Hello.png\";\nimport Sidebar from \"./sidebar.js\";\nimport \"./studio.css\";\n\nclass Stream extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      prop: null,\n      photoTaken: false,\n      photoURL: null,\n      response: null\n    };\n  }\n  componentDidMount() {\n    const constraints = { video: true };\n\n    const video = document.querySelector(\"video\");\n    const canvas = document.querySelector(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    let mediaStream = null;\n\n    navigator.mediaDevices\n      .getUserMedia(constraints)\n      .then(stream => {\n        video.srcObject = stream;\n        video.play();\n        mediaStream = stream;\n      })\n      .catch(err => console.error(err));\n\n    document\n      .querySelector(\"#snap\")\n      .addEventListener(\"click\", () => snapshot(this.state.prop), false);\n\n    function snapshot(id) {\n      if (mediaStream) {\n        context.drawImage(video, 0, 0, video.width, video.height);\n        if (id)\n          context.drawImage(\n            document.querySelector(`#${id}`),\n            0,\n            0,\n            video.width,\n            video.height\n          );\n      }\n    }\n  }\n\n  applyProp = e => {\n    if (this.state.prop !== e.target.id) {\n      this.setState({\n        prop: e.target.id\n      });\n      if (document.querySelectorAll(\".selected\").length > 0)\n        document.querySelector(\".selected\").classList.remove(\"selected\");\n      document.querySelector(`#${e.target.id}`).classList.add(\"selected\");\n    } else {\n      this.setState({\n        prop: null\n      });\n      document.querySelector(`#${e.target.id}`).classList.remove(\"selected\");\n    }\n  };\n\n  postPhoto = () => {\n    fetch(\"http://localhost:8000/posts/add\", {\n      method: \"post\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: {\n        photo: this.state.photoURL,\n        //id: this.props.user.id,\n        id: 11\n      }\n    })\n      .then(res => this.setState({ response: res.json() }))\n      //Is this 'data.response' or 'data.message'?\n      .then(alert(this.state.response));\n};\n\n  acceptUpload = () => {\n    var preview = document.querySelector(\"img\");\n    var file = document.querySelector(\"input[type=file]\").files[0];\n    var reader = new FileReader();\n\n    reader.addEventListener(\n      \"load\",\n      () => {\n\t\t  this.setState({\n\t\t\t  photoURL: reader.result\n\t\t  }, () => this.postPhoto());\n\t  },\n      false\n    );\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n\n  allowPublish = () => {\n    this.setState({\n      photoTaken: true\n    });\n  };\n\n  publish = () => {\n    this.setState(\n      {\n        photoURL: document.querySelector(\"canvas\").toDataURL(\"image/png\")\n      },\n      () => this.postPhoto()\n    );\n  };\n\n  renderPublish = () => {\n    if (this.state.photoTaken) {\n      return (\n        <button\n          onClick={this.publish}\n          type=\"button\"\n          id=\"snap\"\n          className=\"button-primary\"\n        >\n          Save and Publish\n        </button>\n      );\n    }\n  };\n\n  previewOverlay = () => {\n    if (this.state.prop !== null) {\n      let source = document\n        .querySelector(`#${this.state.prop}`)\n        .getAttribute(\"src\");\n      return <img alt=\"preview\" src={source} className=\"prop overlay-img\" />;\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <Sidebar />\n        <div className=\"container-studio\">\n          <h1 className=\"text-secondary\">Welcome to the studio!</h1>\n          <div className=\"container-props\">\n            <img\n              id=\"Fish\"\n              onClick={this.applyProp}\n              className=\"prop\"\n              src={Fish}\n              alt=\"Fish\"\n            />\n            <img\n              onClick={this.applyProp}\n              id=\"Cracks\"\n              className=\"prop\"\n              src={Cracks}\n              alt=\"Cracks\"\n            />\n            <img\n              onClick={this.applyProp}\n              id=\"Hello\"\n              className=\"prop\"\n              src={Hello}\n              alt=\"Hello\"\n            />\n          </div>\n          <div className=\"prop camera\">\n            <video className=\"main\" width=\"320\" height=\"240\"></video>\n            <video width=\"100%\"></video>\n            {this.previewOverlay()}\n          </div>\n          <br />\n          <button\n            type=\"button\"\n            onClick={this.allowPublish}\n            id=\"snap\"\n            className=\"button-primary\"\n          >\n            Take Photo\n          </button>\n          <br />\n          <p>or upload here:</p>\n          <input type=\"file\" onChange={this.acceptUpload} />\n          <br />\n          <canvas width=\"320\" height=\"240\"></canvas>\n          <br />\n          {this.renderPublish()}\n        </div>\n      </>\n    );\n  }\n}\nexport default Stream;\n"]},"metadata":{},"sourceType":"module"}