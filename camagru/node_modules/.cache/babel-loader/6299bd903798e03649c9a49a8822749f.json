{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Desktop/camagru/camagru/src/components/login.js\";\nimport React from 'react';\nimport './login.css';\nimport { APIUrl, baseURL } from '../global.js';\nimport { validatePassword } from '../auxiliary.js';\nimport { validateEmail } from '../auxiliary.js';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.forgotPassword = () => {\n      let email = window.prompt(\"Please enter your email address\"); //Need to validate the email address\n\n      if (email !== \"\") alert(\"Instructions have been sent to \".concat(email, \" if there is an account associated with it\"));else alert(\"Please enter a valid email address\");\n    };\n\n    this.register = () => {\n      console.log(validatePassword(this.state.new_pass));\n\n      if (validatePassword(this.state.new_pass) === false) {\n        alert(\"Password must include an uppercase letter, a lowercase letter and a number\");\n        return;\n      }\n\n      if (validateEmail(this.state.new_email) === false) {\n        alert(\"Please enter a valid email adress\");\n        return;\n      }\n\n      let data = {\n        method: \"post\",\n        headers: {\n          'Origin': baseURL,\n          'Access-Control-Request-Method': 'POST',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: this.state.new_email,\n          username: this.state.new_name,\n          password: this.state.new_pass\n        })\n      };\n      fetch(\"\".concat(APIUrl, \"/users/create\"), data);\n      alert(\"An email to complete the registration has been sent to \".concat(this.state.new_email));\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      new_email: \"\",\n      new_pass: \"\",\n      new_name: \"\",\n      forgotten: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-signin shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"form-signin-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      className: \"form-control\",\n      name: \"email\",\n      placeholder: \"Email Address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.handleChange,\n      className: \"form-control\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"button-primary\",\n      onClick: () => this.props.login(this.state.email, this.state.password),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"button-primary\",\n      onClick: this.forgotPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Forgot password\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"form-signin shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"form-signin-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Register\"), React.createElement(\"div\", {\n      className: \"block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleChange,\n      className: \"form-control\",\n      name: \"new_email\",\n      placeholder: \"Email Address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.handleChange,\n      className: \"form-control\",\n      name: \"new_pass\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"name\",\n      onChange: this.handleChange,\n      className: \"form-control\",\n      name: \"new_name\",\n      placeholder: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.register,\n      type: \"button\",\n      className: \"button-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Create Account\"))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/chris/Desktop/camagru/camagru/src/components/login.js"],"names":["React","APIUrl","baseURL","validatePassword","validateEmail","Login","Component","constructor","handleChange","e","setState","target","name","value","forgotPassword","email","window","prompt","alert","register","console","log","state","new_pass","new_email","data","method","headers","body","JSON","stringify","username","new_name","password","fetch","forgotten","render","props","login"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './login.css';\nimport { APIUrl, baseURL } from '../global.js';\nimport { validatePassword } from '../auxiliary.js';\nimport { validateEmail } from '../auxiliary.js';\n\nclass Login extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t\tnew_email: \"\",\n\t\t\tnew_pass: \"\",\n\t\t\tnew_name: \"\",\n\t\t\tforgotten: false\n\t\t}\n\t}\n\n\thandleChange = (e) => {\n\t\tthis.setState({\n\t\t\t[e.target.name] : e.target.value\n\t\t});\n\t}\n\n\tforgotPassword = () => {\n\t\tlet email = window.prompt(\"Please enter your email address\");\n\t\t//Need to validate the email address\n\t\tif (email !== \"\")\n\t\t\talert(`Instructions have been sent to ${email} if there is an account associated with it`);\n\t\telse\n\t\t\talert(\"Please enter a valid email address\");\n\t}\n\n\tregister = () => {\n\t\tconsole.log(validatePassword(this.state.new_pass));\n\t\tif (validatePassword(this.state.new_pass) === false)\n\t\t{\n\t\t\talert(\"Password must include an uppercase letter, a lowercase letter and a number\");\n\t\t\treturn ;\n\t\t}\n\t\tif (validateEmail(this.state.new_email) === false)\n\t\t{\n\t\t\talert(\"Please enter a valid email adress\");\n\t\t\treturn ;\n\t\t}\n\t\tlet data = {\n\t\t\tmethod: \"post\",\n\t\t\theaders: {\n\t\t\t\t'Origin': baseURL,\n\t\t\t\t'Access-Control-Request-Method': 'POST',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail: this.state.new_email,\n\t\t\t\tusername: this.state.new_name,\n\t\t\t\tpassword: this.state.new_pass\n\t\t\t})\n\t\t}\n\t\tfetch(`${APIUrl}/users/create`, data);\n\n\n\n\n\t\talert(`An email to complete the registration has been sent to ${this.state.new_email}`);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='container-login'>\n\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t<form className=\"form-signin shadow\">\n\t\t\t\t\t\t<h2 className=\"form-signin-heading\">Login</h2>\n\t\t\t\t\t\t<input type=\"text\" onChange={this.handleChange} className=\"form-control\" name=\"email\" placeholder=\"Email Address\" />\n\t\t\t\t\t\t<input type=\"password\" onChange={this.handleChange} className=\"form-control\" name=\"password\" placeholder=\"Password\" />\n\t\t\t\t\t\t<button type='button' className=\"button-primary\" onClick={() => this.props.login(this.state.email, this.state.password)}>Login</button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button type='button' className=\"button-primary\" onClick={this.forgotPassword}>Forgot password</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<br />\n\t\t\t\t\t<hr />\n\t\t\t\t\t<br />\n\t\t\t\t\t<form className=\"form-signin shadow\">\n\t\t\t\t\t\t<h2 className=\"form-signin-heading\">Register</h2>\n\t\t\t\t\t\t<div className=\"block\">\n\t\t\t\t\t\t\t<input type=\"text\" onChange={this.handleChange} className=\"form-control\" name=\"new_email\" placeholder=\"Email Address\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"block\">\n\t\t\t\t\t\t\t<input type=\"password\" onChange={this.handleChange} className=\"form-control\" name=\"new_pass\" placeholder=\"Password\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"block\">\n\t\t\t\t\t\t\t<input type=\"name\" onChange={this.handleChange} className=\"form-control\" name=\"new_name\" placeholder=\"Name\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button onClick={this.register} type='button' className=\"button-primary\">Create Account</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}